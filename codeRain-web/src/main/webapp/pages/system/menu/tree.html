<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>菜单树</title>
    <link rel="stylesheet" href="/plugins/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/font-awesome.css"/>
    <link rel="stylesheet" href="/plugins/jquery-ztree.3.5/css/default/zTreeStyle.css"/>
    <link rel="stylesheet" href="/css/style.css"/>
    <link rel="stylesheet" href="/css/skins.css"/>
    <link rel="stylesheet" href="/css/codeRain-ui.css"/>
    <link rel="stylesheet" href="/css/animate.min.css"/>
    <link rel="stylesheet" href="tree.css"/>
</head>
<body>
    <input id="treeId"   name="treeId"    type="hidden" />
    <input id="treeName" name="treeName"  type="hidden" />
    <div class="wrapper">
        <div class="treeShowHideButton" onclick="$.tree.toggleSearch();">
            <label id="btnShow" title="显示搜索" style="display:none;">︾</label>
            <label id="btnHide" title="隐藏搜索">︽</label>
        </div>
    </div>
    <div class="treeSearchInput" id="search">
        <label for="keyword">关键字：</label>
        <input type="text" class="empty form-control" id="keyword" maxlength="50">
        <button class="btn btn-primary btn-sm" id="btn" onclick="$.tree.searchNode()"> 搜索 </button>
    </div>
    <div class="treeExpandCollapse">
        <a href="#" onclick="$.tree.expand()">展开</a> /
        <a href="#" onclick="$.tree.collapse()">折叠</a>
    </div>
    <div id="tree" class="ztree "></div>
<script type="text/javascript"> var ctx = '/';</script>
<a id="scroll-up" href="#" class="btn btn-sm display">
    <i class="fa fa-angle-double-up"></i>
</a>
<script src="/plugins/jQuery-3.6.0.js"></script>
<script src="/plugins/bootstrap/js/bootstrap.min.js"></script>
<!-- 遮罩层 -->
<script src="/plugins/blockUI/jquery.blockUI.js"></script>
    <!-- 树形插件 -->
<script src="/plugins/jquery-ztree.3.5/js/jquery.ztree.all-3.5.js"></script>
<script src="/js/common.js?v=4.6.1"></script>
<script src="/js/codeRain.js?v=4.6.1"></script>
<script type="text/javascript">
    $(document).ready(function () {

        var url = ctx + "system/menu/menuTreeData";
        var option = {
            url: url,
            expandLevel: 1,
            data: {
                simpleData: {
                    enable: true,
                    idKey: 'id',
                    pIdKey: 'pid'
                }
            },
            onClick: zTreeClick
        };

        $.tree.init(option);

        function zTreeClick(event, treeId, treeNode) {
            console.log(treeNode);
        }
    });
</script>
</body>
</html>